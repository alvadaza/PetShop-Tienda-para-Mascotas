<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <link
      rel="shortcut icon"
      href="https://res.cloudinary.com/dl7kjajkv/image/upload/v1758065913/PERRO.png_wog4m4.jpg"
      type="image/x-icon"
    />
    <title>Admin - PetShop</title>

    <link rel="stylesheet" href="css/styles_admin.css" />
  </head>
  <body>
    <button id="logoutBtn">Cerrar Sesi√≥n</button>
    <button id="volverBtn">‚¨Ö Volver a la Tienda</button>

    <div class="container">
      <h1>Panel de Administraci√≥n</h1>

      <!-- Secci√≥n de Categor√≠as -->
      <div class="seccion">
        <h2>Gesti√≥n de Categor√≠as</h2>
        <form id="categoriaForm">
          <div class="form-full">
            <label for="cat_nombre">Nombre de la categor√≠a</label>
            <input type="text" id="cat_nombre" required />
          </div>
          <div class="form-full">
            <label for="cat_descripcion">Descripci√≥n (opcional)</label>
            <textarea id="cat_descripcion" rows="3"></textarea>
          </div>
          <div class="form-full">
            <button type="submit">Guardar Categor√≠a</button>
          </div>
        </form>

        <div id="catMensaje" class="mensaje" style="display: none"></div>

        <div class="tabla-contenedor">
          <h3>Categor√≠as Existentes</h3>
          <table id="tablaCategorias">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Descripci√≥n</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Secci√≥n de Productos -->
      <div class="seccion">
        <h2>Gesti√≥n de Productos</h2>
        <form id="productoForm">
          <div>
            <label for="prod_nombre">Nombre del producto</label>
            <input type="text" id="prod_nombre" required />
          </div>
          <div>
            <label for="prod_precio">Precio</label>
            <input
              type="number"
              id="prod_precio"
              step="0.01"
              min="0"
              required
            />
          </div>
          <div>
            <label for="prod_categoria">Categor√≠a</label>
            <select id="prod_categoria" required></select>
          </div>
          <div>
            <label for="prod_stock">Stock</label>
            <input type="number" id="prod_stock" min="0" value="0" />
          </div>
          <div class="form-full">
            <label>Im√°genes del producto</label>
            <div id="imagenesContainer">
              <div class="imagen-group">
                <input
                  type="text"
                  class="imagen-input"
                  placeholder="https://ejemplo.com/imagen1.jpg"
                />
                <button
                  type="button"
                  class="removeImagenBtn"
                  style="display: none"
                >
                  üóëÔ∏è
                </button>
              </div>
            </div>
            <button type="button" id="agregarImagenBtn">
              ‚ûï Agregar otra imagen
            </button>
          </div>

          <div class="form-full">
            <label for="prod_descripcion">Descripci√≥n</label>
            <textarea id="prod_descripcion" rows="4"></textarea>
          </div>
          <div class="form-full">
            <button type="submit">Guardar Producto</button>
            <input type="hidden" id="prod_id" />
          </div>
        </form>

        <div id="prodMensaje" class="mensaje" style="display: none"></div>

        <div class="tabla-contenedor">
          <h3>Productos Existentes</h3>
          <table id="tablaProductos">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Categor√≠a</th>
                <th>Stock</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <div class="filtros">
              <input
                type="text"
                id="buscarProducto"
                placeholder="üîç Buscar producto..."
              />
              <select id="filtrarCategoria">
                <option value="">Todas las categor√≠as</option>
              </select>
              <select id="filtrarStock">
                <option value="">Todos</option>
                <option value="disponible">Disponibles</option>
                <option value="agotado">Agotados</option>
              </select>
            </div>

            <tbody></tbody>
          </table>
        </div>
      </div>
      <div>
        <button id="verPedidosBtn">VER PEDIDOS</button>
        <button id="verMensajesBtn">VER MENSAJES</button>
      </div>
    </div>

    <script type="module" src="js/app.js"></script>
  </body>
</html>
